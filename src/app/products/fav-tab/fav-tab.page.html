<ion-header [translucent]="false" class="yellow-header">
  <ion-toolbar color="transparent">
    <div class="header-content">
      <div class="d-flex">
        <ion-button fill="clear" class="menu-button"
        style="--background:transparent;"
        (click)="toggleSidebar()">
          <ion-icon name="menu-outline" style="font-size: 30px;" slot="icon-only"></ion-icon>
        </ion-button>
      <ion-title class="header-title">Favorites</ion-title>
    </div>

      <!-- <ion-button fill="clear" class="menu-button position-relative"
      style="--background:transparent;"
      [routerLink]="['/my-cart']">
      @if(shopifyService.cartTotalQuantity$.value > 0) {
        <span class="cart-count">{{shopifyService.cartTotalQuantity$.value}}</span> } 
        <ion-icon name="cart-outline" style="font-size: 30px;" slot="icon-only"></ion-icon>
      </ion-button> -->
    </div>
  </ion-toolbar>
</ion-header>
<div class="content-ion" >
  @if(favorites.length > 0) {
<div class="recipe-list">
  @for (fav of favorites; track $index) {
    <div class="recipe-item"
    (click)="goToProductDetail(fav.postId)">
    <div class="recipe-image-wrapper">
      <ion-img [src]="fav.image" 
      class="recipe-image"></ion-img>
    </div>
    <div class="recipe-info">
     <!--  <span class="low-carb-badge">LOW-CARB</span> -->
     <div class="d-flex justify-content-between align-items-start">
      <h3 class="recipe-name">{{fav.title}}</h3>
      <div class="favorites-section">
        <ion-icon name="close-outline"
         (click)="$event.stopPropagation(); removeFromFavorites(fav)"></ion-icon>
      </div>
     </div>
     
    </div>
  </div>
}
</div>}
@if(favorites.length === 0 && !isLoading) {
  <div class="example-content p-2 text-center">No data found</div>
}
@if(isLoading && !favorites.length){
  <div class="example-content p-2 text-center">Loading...</div>
}
</div>

<app-sidebar [isOpen]="common.isSidebarOpen" (closeSidebar)="toggleSidebar()"></app-sidebar>